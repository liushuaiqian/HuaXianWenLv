# 地方文旅展示站点（文化·风俗·非遗）项目开发任务计划（任务版）

使用方式：你将指导 AI 按“任务编号”逐个推进，每完成一个任务请在本文件中更新其“状态”。

---

## 任务清单总览

| 编号 | 任务名称 | 当前状态 |
|---|---|---|
| 1 | 需求分析与拆解 | 进行中（页面文档编写中） |
| 2 | 架构设计阶段 | 未开始 |
| 3 | 基础框架搭建 | 进行中（已创建基础 Vue 框架 + 媒体组件初版） |
| 4 | 页面开发实施 | 进行中（首页复刻完成，已替换本地占位图；/media 图集与灯箱初版） |
| 5 | 联调与测试 | 未开始 |
| 6 | 部署上线 | 未开始 |

---

## 任务1：需求分析与拆解（状态：进行中）

- 目标
  - 明确范围、验收口径、技术可行性与风险，沉淀数据准备清单。
- 工作项
  - 全量解读 PRD，列出功能/页面/组件清单（P0/P1/P2 优先级）。
  - 明确“纯前端”的数据来源与组织方式（/public/data JSON、/content Markdown、/public/media 媒体）。
  - 提炼验收指标（性能、无障碍、SEO、交互）为可执行用例。
  - 风险识别与缓解策略登记（素材体积、CDN、Vite 迁移决策、地图可选）。
  - 输出需求基线与变更机制（版本号、变更记录）。
- 交付物
  - 功能/页面/组件清单（含优先级）。
  - 验收标准与测试用例草案。
  - 风险清单与应对策略（含责任人）。
  - 数据准备清单（JSON/MD/媒体路径与数量）。
- 责任人
  - PM（待指派）；协作：前端负责人、UI/UX、内容编辑、测试。

---

## 任务2：架构设计阶段（状态：未开始）

- 目标
  - 统一技术栈与目录结构，定义数据契约，设计基础能力（路由、搜索、媒体、SEO、性能）。
- 工作项
  - 技术栈一致性决策：保留现有脚手架或迁移 Vite（评估工期/收益/兼容）。
  - 目录结构规划：pages、components（base/media/map）、composables、store（可选）、utils、styles、public/data、public/media、content。
  - 数据契约：/public/data/*.json 字段结构与约束；/content Markdown 路径策略；媒体命名与目录规范（cover.webp、poster.webp、sub.vtt）。
  - 基础能力设计：
    - 路由懒加载与 SEO 元信息策略（全局/按路由 meta），滚动行为恢复。
    - 搜索：fuse.js 索引字段（title/tags/summary）与权重策略。
    - 图片懒加载与 Lightbox，VideoPlayer（poster/字幕）。
    - URL Query 与筛选状态同步（Pinia/自定义 composable）。
    - 代码分割策略与性能预算（首包 JS ≤ 250KB gzip）。
- 交付物
  - 技术选型与迁移决策记录。
  - 目录结构与模块边界文档。
  - 数据契约说明（JSON/MD/媒体路径命名）。
  - 基础能力设计说明（路由、搜索、媒体、SEO、性能）。
- 责任人
  - 前端负责人（待指派）；协作：PM、内容编辑、测试。

---

## 任务3：基础框架搭建（状态：进行中）

- 现状说明
  - 已创建基础 Vue 框架与基本路由/页面骨架（需评估是否迁移 Vite）。
  - 新增媒体基础组件：MasonryGallery、Lightbox；接入示例数据 /public/data/media.json。
- 待办清单
  - 工程与工具链：ESLint + Prettier、提交校验（可选 lint-staged）、路径别名与 jsconfig/tsconfig 对齐。
  - 路由与布局：Header/Nav、Footer、PageContainer；路由懒加载、滚动行为、meta 标题接入。
  - 样式系统：Tailwind CSS 或 Sass，建立主题色、灰阶与暗色模式基础。
  - 基础组件库：
    - Base：Button、Tag、Card、Badge、Tabs、Modal。
    - 媒体：ImageLazy（IntersectionObserver）、Lightbox（ESC 关闭）、VideoPlayer（poster/字幕）。
  - 示例数据与页面：/public/data 放入样例 JSON（每类 3–5 条），/content 放入 demo Markdown。
  - composables 与工具：useFilters、useSearch、useDarkMode、useMedia；utils/seo.ts、utils/fetchJson.ts。
- 交付物
  - 可运行的骨架项目（全局布局/导航/路由/示例页面）。
  - 基础组件库初版与样例数据。
- 责任人
  - 前端负责人（待指派）；参与：前端开发同学。

---

## 任务4：页面开发实施（状态：进行中）

- 目标
  - 按业务优先级完成核心页面、交互逻辑与可访问性/SEO。
- 开发顺序建议（核心优先）
  1) 非遗列表/详情（/heritage、/heritage/:id，P0）
  2) 风俗列表/详情（/customs、/customs/:id，P0）
  3) 首页（/，P0）
  4) 图文与视频（/media、/media/:id，P1）
  5) 文化概况（/culture，P1）
  6) 地图与路线（/map，可选，P2）
  7) 关于与致谢（/about，P1）
- 通用工作项（每页面）
  - 加载 /public/data JSON 与 /content Markdown（如有）。
  - 搜索/筛选/分页（或无限滚动），与 URL Query 同步。
  - 图片懒加载、灯箱/视频播放器；空状态与错误占位、骨架屏。
  - 无障碍（alt/aria/键盘）、响应式、SEO meta 与 OG、详情页 JSON-LD。
  - 关联内容展示（heritage 详情关联 customs/media）。
- 关键验收点（节选）
  - Heritage：搜索“年画”可命中 h001；切换分类 URL 保持；刷新状态恢复。
  - Customs：关键词“正月”“灯会”可命中；月份筛选实时更新。
  - Media：灯箱 ESC 关闭；视频字幕可开关。
  - 首页：已复刻 The Green Chronicle 首页布局（Featured + 右侧列表 + Latest news 卡片栅格），在我们项目中协调统一。
- 交付物
  - 可用的核心与扩展页面，满足交互、可访问性与 SEO 要求。
- 责任人
  - FE 小组（待指派，按页面划分）。

---

## 任务5：联调与测试（状态：未开始）

- 目标
  - 功能完整、体验顺畅、性能达标、SEO/无障碍合规。
- 工作项
  - 数据联调：与内容编辑对齐 JSON 字段、Markdown 链接、媒体路径。
  - 功能测试：覆盖路由、搜索/筛选、分页/滚动、媒体播放、收藏（可选）。
  - 性能测试：Lighthouse、Web Vitals（LCP/FID/CLS），3G 快速网络模拟。
  - 无障碍测试：键盘导航、对比度、替代文本、ARIA 标注。
  - SEO：title/description/OG、结构化数据验证。
  - 兼容性：现代浏览器与主流移动端断点。
  - 缺陷修复与回归测试。
- 交付物
  - 测试报告与缺陷清单；性能优化清单与前后对比；SEO/无障碍校验记录。
- 责任人
  - 测试负责人（待指派）；协作：前端、内容编辑、PM。

---

## 任务6：部署上线（状态：未开始）

- 目标
  - 稳定上线、可回滚、可观测。
- 工作项
  - 构建：npm scripts（dev/build/preview），产物为纯静态文件。
  - 发布：Vercel / Netlify / GitHub Pages / 阿里云 OSS + CDN；缓存策略（静态长缓存、HTML 短缓存）。
  - 路由回退：SPA history 404 处理（托管平台规则）。
  - “灰度”策略（静态适配）：子域或路径级灰度（/beta/）、Deploy Preview、CDN 规则按路径/权重；回滚保留上版产物。
  - 监控：前端报错上报（可选）、Web Vitals 采样（可选）、CDN 访问日志。
- 交付物
  - 部署脚本/配置、发布记录、回滚说明；监控开通与告警阈值。
- 责任人
  - 运维/前端负责人（待指派）；协作：PM、测试。

---

## 附录：更新记录

- 2025-09-03 初始化本任务计划（全部任务状态设为“未开始”，任务3标记为“进行中”以反映现状）。
- 2025-09-03 更新：媒体页图集与灯箱实现，任务3与任务4状态相应更新。
- 2025-09-03 更新：复刻 The Green Chronicle 首页设计至“文旅展示”主页（HomeView），已对齐布局与风格。
- 2025-09-03 更新：新增 /public/data/culture.json 并完成“文化概况”页面（/culture）初版：锚点导航、历史时间轴、主题分区、代表元素筛选、FAQ 与参考资料；支持骨架/错误态与 URL Query 同步。