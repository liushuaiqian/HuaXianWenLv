# 文化概况（/culture）界面设计方案

本文为“文化概况”页面的 UI 设计与交互规划文档，用于评审与确认是否满足预期需求。实现阶段可与《文化概况实现文档》配合使用。

---

## 1. 界面整体布局设计

- 路由与标题
  - 路由：/culture
  - 页面标题：文化概况（副标题：历史沿革 · 主题分区 · 代表元素 · 地标地图）
- 容器与栅格
  - 宽度：max-width 1100px；两侧内边距 20–28px（与首页保持一致）
  - 断点：
    - < 640px：单列
    - ≥ 640px：两列/紧凑网格（场景化）
    - ≥ 980px：两列主从布局或 3 栅格卡片
- 页面结构（自上而下）
  1) PageHeader：面包屑（首页 / 文化概况）+ 标题 + 简要介绍
  2) AnchorNav（锚点导航，吸顶）：[历史沿革] [主题分区] [代表元素] [文化地图] [常见问答]
  3) Section A — 历史沿革（时间轴）
  4) Section B — 主题分区（栅格卡片：非遗、风俗、美食、服饰、工艺、名人等）
  5) Section C — 代表元素（带筛选的卡片列表：标签/类别/时代）
  6) Section D — 文化地图（可选，展示关键地标与活动分布）
  7) Section E — 常见问答（折叠面板）
  8) 资料与参考（外链/下载/联系）与页尾 CTA（去了解更多）

简化线框（示意）：

```
[面包屑  文化概况]
[标题/简介]
[锚点导航: 沿革 | 分区 | 元素 | 地图 | 问答]

A 历史沿革
[  年份 | 事件标题 | 描述 | 图片  ] x N（滚动淡入）

B 主题分区（3列卡片，移动端1列）
[卡片] [卡片] [卡片]
[卡片] [卡片] [卡片]

C 代表元素（筛选 + 卡片列表）
[标签群组]  [清空]
[元素卡片] x 12  （加载更多 / 分页）

D 文化地图（可选）
[地图底图] [分类图例] [标注/气泡]

E 常见问答（折叠）
[Q1 ▼]
[A1 展开内容]
...

[资料与参考 / 外链]    [进一步了解 CTA]
```

---

## 2. 主要功能模块划分

- 数据模块（/public/data/culture.json）
  - hero: { title, subtitle, cover? }
  - timeline: [{ id, year, title, description, image }]
  - themes: [{ id, title, summary, cover, link }]
  - elements: [{ id, name, category, period, cover, summary, tags:[] }]
  - landmarks (可选): [{ id, name, coord:[lng,lat], summary, category, link }]
  - faq: [{ q, a }]
- 视图与组件模块
  - PageHeader、AnchorNav（含 ScrollSpy）
  - Timeline（含 TimelineItem）
  - CultureGrid（主题分区卡片栅格）
  - ElementFilter（标签/分类/时代筛选）+ ElementCard（元素卡片）+ LoadMore
  - LandmarkMap（可选，Leaflet/OpenStreetMap）+ Legend（图例筛选）
  - FAQAccordion（常见问答折叠面板）
  - 公共：SectionHeader、Card、Tag、Button、Skeleton/Empty/Error、Breadcrumb
- 路由联动
  - 卡片 click → 对应专题页（/heritage、/customs、/media）或锚点跳转
  - URL Query 同步筛选（如 ?category=food&tags=XXX）

---

## 3. 页面交互流程说明

- 首屏加载流程
  1) 进入 /culture → 触发 fetchJson('/data/culture.json')
  2) Skeleton 骨架占位 → 数据返回 → 组件按区块渲染
  3) AnchorNav 启用 ScrollSpy，随滚动高亮当前区块
- 时间轴（A 区）
  - 滚动进入视口：逐条淡入
  - 点击时间轴项：展开更多描述/图片（可选动画）
- 主题分区（B 区）
  - Hover：卡片轻微浮起阴影；点击：跳转对应列表或详情页
- 代表元素（C 区）
  - 标签/分类/时代筛选：即时过滤（无刷新），URL Query 同步
  - 空状态：展示提示与“清空筛选”按钮
  - 加载更多：一次 +8 / 分页（方案二）
- 文化地图（D 区，可选）
  - 分类开关：切换不同类型地标的显示
  - 点击标注：弹出气泡，展示名称、摘要与“查看详情”
  - 离线/加载失败：隐藏地图，显示提示与重试
- 常见问答（E 区）
  - 手风琴交互，支持键盘上下移动、Enter/Space 展开
- 无障碍与键盘
  - 所有可交互卡片可聚焦（tabindex=0）；Enter/Space 触发
  - 锚点导航支持键盘左右，当前项 aria-current
- 性能
  - 图片懒加载（IntersectionObserver）；列表按需渲染
  - 资源体积预算遵循首页策略（卡片统一阴影/圆角）

---

## 4. 视觉风格参考

- 延续首页卡片体系：
  - 白底卡片、圆角 12–14、阴影：0 1px 0 rgba(16,24,40,.04), 0 1px 3px rgba(16,24,40,.08)
  - 标题字重 700–800，正文灰阶 #6B7280，标题 #1F2937
  - 容器与间距：Section 上下 28–36px；卡片内边距 12–16px；栅格间距 16–24px
- 色彩建议（可调整）：
  - 主色：深绿（示例 #166534）/ 品牌点缀（示例 #10B981）
  - 强调色：金黄（示例 #F59E0B）用于标签/图例
  - 灰阶：#111827/#374151/#6B7280/#9CA3AF
- 媒体与图形
  - 封面图优先使用 WebP（或本地 SVG 占位），统一 16:9/4:3 比例
  - 地图标注与图例采用简洁扁平图标
- 动效
  - 悬停轻浮起（translateY(-2px)）与阴影增强；过渡时长 120–180ms，缓动 ease-out

---

## 5. 关键 UI 组件描述

- SectionHeader
  - props: { title: string, subtitle?: string, anchorId?: string }
- AnchorNav（吸顶 + ScrollSpy）
  - props: { items: [{ id, label }], activeId }
  - events: select(id)
- Timeline / TimelineItem
  - props: { items: TimelineItem[] } / { item }
  - 交互：进入视口淡入；点击展开详情（可选）
- CultureGrid / ThemeCard
  - props: { blocks: Theme[] }
  - Theme: { id, title, summary, cover, link }
- ElementFilter
  - props: { categories: string[], tags: string[], periods: string[] }
  - emits: update:filter(payload)
- ElementCard
  - props: { item: Element, highlight?: string[] }
- StoryList/StoryCard（可选扩展）
  - 用于展示“名人/故事/传说”类列表，与媒体详情联动
- LandmarkMap（可选）
  - props: { markers: Landmark[], categories: string[] }
  - methods: fitToBounds(); events: marker-click(id)
- FAQAccordion / FAQItem
  - props: { items: FAQ[] } / { q, a }
- Skeleton/EmptyState/ErrorState
  - 统一样式与文案；Empty 提供“清空筛选/返回”操作

---

## 数据契约（建议）

```json
{
  "hero": { "title": "文化概况", "subtitle": "历史沿革 · 主题分区 · 代表元素 · 地标地图" },
  "timeline": [
    { "id": "t1", "year": "汉", "title": "形成期", "description": "……", "image": "/media/t1.webp" }
  ],
  "themes": [
    { "id": "th1", "title": "非遗", "summary": "代表性项目与传承人", "cover": "/media/th1.webp", "link": "/heritage" }
  ],
  "elements": [
    { "id": "e1", "name": "节庆美食", "category": "美食", "period": "清", "cover": "/media/e1.webp", "summary": "……", "tags": ["节庆","地方特色"] }
  ],
  "landmarks": [
    { "id": "lm1", "name": "文化广场", "coord": [120.12,30.12], "summary": "……", "category": "活动" }
  ],
  "faq": [
    { "q": "如何区分主题分区与代表元素？", "a": "……" }
  ]
}
```

---

## 验收清单（节选）
- 锚点导航随滚动正确高亮，点击平滑滚动到区段
- 时间轴卡片在进入视口时逐条淡入，移动端可顺畅滚动
- 代表元素筛选即时生效，支持清空与 URL Query 同步
- 空/错/离线状态可感知，并提供可达操作（重试/清空）
- 可访问性：键盘可用、图片 alt 完整、ARIA 语义正确
- 性能：图片懒加载；首屏渲染流畅；地图可选且失败兜底

---

## 实施与里程碑
- M1：数据结构与静态页面骨架落地（Header/Anchor/Section 容器）
- M2：时间轴与主题分区完成功能与样式
- M3：代表元素筛选与列表、空态/骨架/错误态
- M4：文化地图（可选）与 FAQ
- M5：联调与验收（SEO/无障碍/性能）

> 说明：本方案不引入新依赖即可落地；若启用地图，建议使用 Leaflet（可选）。