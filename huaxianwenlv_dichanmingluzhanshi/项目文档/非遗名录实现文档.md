# 非遗名录页面（/heritage, /heritage/:id）设计与实现文档

本文档用于评审“非遗名录”页面的规划与实现是否满足预期需求，覆盖功能、布局、交互、视觉与响应式。

---

1. 页面功能概述
- 列表页（/heritage）
  - 支持关键词搜索（标题/标签/摘要）
  - 支持类别、地区、级别筛选
  - 支持排序（相关度/标题/地区/级别）
  - 列表以卡片形式展示封面、标题、摘要、标签及基础信息
  - 分页浏览（上一页/下一页），默认每页 8 条
  - 点击卡片进入详情页
- 详情页（/heritage/:id）
  - 展示标题、标签、级别、地区、类别
  - 展示图片画廊与文字描述
  - 提供返回上一页按钮

2. 界面布局设计（模块位置与说明）
- 列表页整体结构
  - 页头区（Page Header）
    - 标题：非遗名录
    - 描述文案：说明支持的检索与浏览能力
    - 工具栏（Toolbar）：
      - 搜索框（左）
      - 类别下拉框、地区下拉框、级别下拉框（中）
      - 排序下拉框（右）
  - 内容区（Grid）
    - 采用响应式网格（1/2/3 列）展示卡片
    - 卡片内容：封面图、标题、摘要、标签、基础信息（类别·地区·级别）
  - 分页区（Pager）
    - 上一页 / 当前页码 / 下一页
- 详情页整体结构
  - 顶部信息区：返回按钮、标题、基础信息（级别·地区·类别）、标签
  - 媒体展示区：图片网格
  - 正文区：详细描述

3. 交互流程说明
- 检索交互
  - 在搜索框输入关键词时，列表即时过滤（前端本地过滤，忽略大小写）
  - 选择任意筛选项（类别/地区/级别）后，列表即时过滤
  - 选择排序方式后，使用 localeCompare（zh-Hans-CN）进行中文友好排序
  - 每次过滤/排序变更后，保持分页逻辑（不强制回到第一页，可根据评审意见调整）
- 翻页交互
  - 默认 pageSize=8
  - 按钮禁用态：第一页禁用“上一页”，末页禁用“下一页”
- 卡片交互
  - hover 有阴影与轻微上移动画
  - 点击跳转到详情页 /heritage/:id
- 详情页交互
  - 点击“返回”回到上一页
  - 图片自适应网格布局，支持响应式

4. 视觉设计规范
- 颜色
  - 文字主色：#2c3e50
  - 次级文字：#64748b / #6b7280 / #94a3b8（用于描述、空状态）
  - 边框：#e5e7eb / #eee
  - 强调/链接：#3b82f6
  - 标签底色：#f1f5f9 / #eef2f7
  - 卡片悬浮阴影：rgba(0,0,0,.06)
- 字体与字号
  - 全局字体：系统默认无衬线（跟随 App.vue 设置）
  - 列表卡片标题：16px / 700
  - 列表摘要：13px / 行高 1.5
  - 详情标题：24px / 800
  - 标签：12px / 中灰色文字
- 间距与圆角
  - 页面内边距：24px
  - 工具栏间距：8px（多行自动换行）
  - 卡片圆角：10px；按钮圆角：6px
  - 图片圆角：10px（详情画廊）
- 交互状态
  - 按钮禁用：不透明度 0.5，cursor: not-allowed
  - 卡片 hover：阴影与上移 2px

5. 响应式设计方案
- 网格列数
  - <768px：1 列
  - ≥768px：2 列
  - ≥1024px：3 列
- 工具栏
  - 多行自动换行（flex-wrap）
  - 控件高度统一为 36px，触控友好
- 图片与媒体
  - 列表封面：object-fit: cover，固定高度 160px
  - 详情画廊：2/3 列自适应，图片高度随断点调整（200px/240px）
- 文本
  - 摘要最小高度控制，避免卡片高度差异过大

6. 数据与依赖
- 数据文件
  - /public/data/heritage.json：非遗示例数据（已添加）
- 依赖库
  - 当前实现基于浏览器原生检索与排序，无需额外依赖
  - 如需更精确模糊搜索，可引入 fuse.js；如需 Markdown 详情，可增配 markdown-it

7. 开发与路由
- 路由
  - 列表：name=heritage-list（已配置）
  - 详情：name=heritage-detail（已配置，参数 id）
- 组件
  - HeritageListView.vue：列表页（已实现）
  - HeritageDetailView.vue：详情页（已实现）

8. 验收要点（供评审）
- 功能
  - 搜索、筛选、排序、分页均可用，状态变化即时生效
  - 列表项点击可进入对应详情，详情展示完整
- 视觉
  - 样式与 App 全局风格统一；hover/禁用等状态清晰
- 响应式
  - 三档断点布局正常，移动端可正常浏览与操作
- 性能
  - 首次加载无明显卡顿，翻页与筛选响应及时

9. 后续优化建议（可选）
- 将筛选状态同步至 URL Query，支持刷新与分享
- 列表支持无限滚动或“加载更多”
- 详情页 Markdown 内容与视频播放器接入
- 为卡片与图片接入懒加载提升首屏性能