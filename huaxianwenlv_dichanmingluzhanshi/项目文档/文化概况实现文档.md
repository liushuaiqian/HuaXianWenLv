# 文化概况（/culture）实现文档

## 1. 页面功能描述
展示地方文化的总体概况，包括时间轴（历史沿革）、文化分区（主题板块）、代表性元素（美食、服饰、工艺等）及可选地图标注。

## 2. 核心实现逻辑

### 2.1 时间轴组件
- 数据结构：[{ year, title, description, image }]
- 交互：滚动到视口时淡入，点击展开查看详情

```vue
<!-- TimelineItem.vue 结构示例 -->
<template>
  <div class="timeline-item flex items-start">
    <div class="year text-2xl font-bold w-24">{{ item.year }}</div>
    <div class="content flex-1">
      <h3 class="text-xl font-semibold">{{ item.title }}</h3>
      <p class="text-gray-600">{{ item.description }}</p>
      <img :src="item.image" :alt="item.title" class="rounded-md mt-2"/>
    </div>
  </div>
</template>
```

### 2.2 文化分区栅格
- 数据结构：[{ id, title, cover, summary, link }]
- 点击卡片跳转对应页面

```vue
<!-- CultureGrid.vue -->
<template>
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <div v-for="block in blocks" :key="block.id" class="card" @click="to(block.link)">
      <img :src="block.cover" :alt="block.title" class="rounded-lg"/>
      <h4 class="mt-3 text-lg font-bold">{{ block.title }}</h4>
      <p class="text-gray-600">{{ block.summary }}</p>
    </div>
  </div>
</template>
```

### 2.3 地图标注（可选）
- 使用 Leaflet 轻量渲染重要文化地标
- 支持分类显示/隐藏

```javascript
// 基本地图初始化
const map = L.map('map').setView([30.123, 120.123], 10)
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '© OpenStreetMap contributors'
}).addTo(map)

// 添加标注
L.marker([30.123, 120.123]).addTo(map).bindPopup('文化地标 A')
```

## 3. 关键代码片段

```vue
<script setup>
import { ref, onMounted } from 'vue'

const timeline = ref([])
const blocks = ref([])

onMounted(async () => {
  // 假设从 /data/culture.json 获取数据
  const data = await fetch('/data/culture.json').then(r => r.json())
  timeline.value = data.timeline
  blocks.value = data.blocks
})
</script>
```

## 4. 依赖关系说明
- 数据：/public/data/culture.json（自定义文件，包含时间轴与分区数据）
- 组件：TimelineItem、CultureGrid
- 库：Leaflet（可选）、IntersectionObserver（动画触达）
- 样式：Tailwind 或 SCSS 模块

## 5. 注意事项
- 图片均提供 alt 文本
- 时间轴图片使用 WebP 并懒加载
- 地图在离线状态时隐藏并给出提示
- SEO：设置 title 为“XX文化概况 | 历史沿革与文化主题”
- 无障碍：卡片可通过键盘 Enter/Space 触发